var ManifestButton={locales:{de:{"button-tooltip":"Manifest dieses Objekts anzeigen"},en:{"button-tooltip":"View manifest of this object"}},buttonTemplate:Mirador.Handlebars.compile(['<a target="_blank" class="mirador-btn mirador-icon-manifest-link" role="button" title="{{t "button-tooltip"}}" aria-label="{{t "button-tooltip"}}">','<i class="fa {{iconClass}} fa-lg fa-fw"></i>',"</a>"].join("")),init:function(){i18next.on("initialized",function(){this.addLocalesToViewer()}.bind(this)),this.injectWorkspaceEventHandler()},injectButtonToMenu:function(t,i){$(t).prepend(this.buttonTemplate({iconClass:i||"fa-file-text-o"}))},injectWorkspaceEventHandler:function(){var t=this,i=Mirador.Workspace.prototype.bindEvents;Mirador.Workspace.prototype.bindEvents=function(){i.apply(this),this.eventEmitter.subscribe("WINDOW_ELEMENT_UPDATED",function(i,n){var e=n.element.find(".window-manifest-navigation"),o=this.state.getStateProperty("manifestButton"),a=$.isPlainObject(o)?o.iconClass:void 0;t.injectButtonToMenu(e,a)}.bind(this)),this.eventEmitter.subscribe("windowUpdated",function(t,i){if(i.loadedManifest){var n=this.getSlotFromAddress(i.slotAddress).appendTo;$(".mirador-btn.mirador-icon-manifest-link",n).attr("href",i.loadedManifest)}}.bind(this))}},addLocalesToViewer:function(){for(var t in this.locales)i18next.addResources(t,"translation",this.locales[t])}};$(document).ready(function(){ManifestButton.init()});